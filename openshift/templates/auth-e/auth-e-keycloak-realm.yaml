######################################################################
# oc process -f ./auth-e-keycloak-realm.yaml --param-file=./auth-e.dev.params | oc apply -f -
######################################################################
kind: Template
apiVersion: template.openshift.io/v1
metadata:
  name: ${APP_NAME}
  annotations:
    description: Application qui démontre l'authentification par attestations d'identité numérique basé sur Hyperledger Aries et Hyperledger Indy.
    tags: CQEN, Hyperledger, ARIES, Indy, Angular, NestJS, PostgreSql
objects:
######################################################################
# Keycloak realm
######################################################################
- kind: ConfigMap
  apiVersion: v1
  metadata:
    name: keycloak-realm
  data:
    auth-e-realm.json: "{\n    \"id\": \"4be3d066-b8fb-4f7d-bcfa-f0aab01ff557\",\n    \"realm\": \"Auth-E\",\n    \"notBefore\": 0,\n    \"defaultSignatureAlgorithm\": \"RS256\",\n    \"revokeRefreshToken\": false,\n    \"refreshTokenMaxReuse\": 0,\n    \"accessTokenLifespan\": 300,\n    \"accessTokenLifespanForImplicitFlow\": 900,\n    \"ssoSessionIdleTimeout\": 1800,\n    \"ssoSessionMaxLifespan\": 36000,\n    \"ssoSessionIdleTimeoutRememberMe\": 0,\n    \"ssoSessionMaxLifespanRememberMe\": 0,\n    \"offlineSessionIdleTimeout\": 2592000,\n    \"offlineSessionMaxLifespanEnabled\": false,\n    \"offlineSessionMaxLifespan\": 5184000,\n    \"clientSessionIdleTimeout\": 0,\n    \"clientSessionMaxLifespan\": 0,\n    \"clientOfflineSessionIdleTimeout\": 0,\n    \"clientOfflineSessionMaxLifespan\": 0,\n    \"accessCodeLifespan\": 60,\n    \"accessCodeLifespanUserAction\": 300,\n    \"accessCodeLifespanLogin\": 1800,\n    \"actionTokenGeneratedByAdminLifespan\": 43200,\n    \"actionTokenGeneratedByUserLifespan\": 300,\n    \"oauth2DeviceCodeLifespan\": 600,\n    \"oauth2DevicePollingInterval\": 5,\n    \"enabled\": true,\n    \"sslRequired\": \"external\",\n    \"registrationAllowed\": false,\n    \"registrationEmailAsUsername\": false,\n    \"rememberMe\": false,\n    \"verifyEmail\": false,\n    \"loginWithEmailAllowed\": true,\n    \"duplicateEmailsAllowed\": false,\n    \"resetPasswordAllowed\": false,\n    \"editUsernameAllowed\": false,\n    \"bruteForceProtected\": false,\n    \"permanentLockout\": false,\n    \"maxFailureWaitSeconds\": 900,\n    \"minimumQuickLoginWaitSeconds\": 60,\n    \"waitIncrementSeconds\": 60,\n    \"quickLoginCheckMilliSeconds\": 1000,\n    \"maxDeltaTimeSeconds\": 43200,\n    \"failureFactor\": 30,\n    \"roles\": {\n      \"realm\": [\n        {\n          \"id\": \"425fab28-5226-4765-82ec-321048132ff7\",\n          \"name\": \"app-admin\",\n          \"description\": \"\",\n          \"composite\": true,\n          \"composites\": {\n            \"client\": {\n              \"angular-app\": [\n                \"admin\"\n              ]\n            }\n          },\n          \"clientRole\": false,\n          \"containerId\": \"4be3d066-b8fb-4f7d-bcfa-f0aab01ff557\",\n          \"attributes\": {}\n        },\n        {\n          \"id\": \"6c3acd4d-5544-4689-ab61-d96cf04b6c3a\",\n          \"name\": \"uma_authorization\",\n          \"description\": \"${role_uma_authorization}\",\n          \"composite\": false,\n          \"clientRole\": false,\n          \"containerId\": \"4be3d066-b8fb-4f7d-bcfa-f0aab01ff557\",\n          \"attributes\": {}\n        },\n        {\n          \"id\": \"99bae409-5f89-4fdc-ae13-ee78647d8214\",\n          \"name\": \"app-user\",\n          \"description\": \"\",\n          \"composite\": true,\n          \"composites\": {\n            \"client\": {\n              \"angular-app\": [\n                \"user\"\n              ]\n            }\n          },\n          \"clientRole\": false,\n          \"containerId\": \"4be3d066-b8fb-4f7d-bcfa-f0aab01ff557\",\n          \"attributes\": {}\n        },\n        {\n          \"id\": \"a28e1f0d-f4ed-48fa-b852-bc597e40b15b\",\n          \"name\": \"default-roles-auth-e\",\n          \"description\": \"${role_default-roles}\",\n          \"composite\": true,\n          \"composites\": {\n            \"realm\": [\n              \"offline_access\",\n              \"uma_authorization\"\n            ],\n            \"client\": {\n              \"account\": [\n                \"manage-account\",\n                \"view-profile\"\n              ]\n            }\n          },\n          \"clientRole\": false,\n          \"containerId\": \"4be3d066-b8fb-4f7d-bcfa-f0aab01ff557\",\n          \"attributes\": {}\n        },\n        {\n          \"id\": \"1384b479-0b29-483a-bd7b-4c5df4978729\",\n          \"name\": \"offline_access\",\n          \"description\": \"${role_offline-access}\",\n          \"composite\": false,\n          \"clientRole\": false,\n          \"containerId\": \"4be3d066-b8fb-4f7d-bcfa-f0aab01ff557\",\n          \"attributes\": {}\n        }\n      ],\n      \"client\": {\n        \"realm-management\": [\n          {\n            \"id\": \"fa053750-cbdf-4439-a1ce-78aab9e675ad\",\n            \"name\": \"query-clients\",\n            \"description\": \"${role_query-clients}\",\n            \"composite\": false,\n            \"clientRole\": true,\n            \"containerId\": \"5d0751e7-244f-4a7f-8ed9-7f4c78426078\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"412632ea-6add-47c2-9306-447239f46df8\",\n            \"name\": \"impersonation\",\n            \"description\": \"${role_impersonation}\",\n            \"composite\": false,\n            \"clientRole\": true,\n            \"containerId\": \"5d0751e7-244f-4a7f-8ed9-7f4c78426078\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"ec0ba391-90b2-4ce2-b7ed-91029f4f736e\",\n            \"name\": \"manage-clients\",\n            \"description\": \"${role_manage-clients}\",\n            \"composite\": false,\n            \"clientRole\": true,\n            \"containerId\": \"5d0751e7-244f-4a7f-8ed9-7f4c78426078\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"cb37cd34-3ce7-449f-bdb1-fb95c0d3092e\",\n            \"name\": \"manage-realm\",\n            \"description\": \"${role_manage-realm}\",\n            \"composite\": false,\n            \"clientRole\": true,\n            \"containerId\": \"5d0751e7-244f-4a7f-8ed9-7f4c78426078\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"2b3519b6-cc5f-40c9-a71a-ecc92631c958\",\n            \"name\": \"manage-identity-providers\",\n            \"description\": \"${role_manage-identity-providers}\",\n            \"composite\": false,\n            \"clientRole\": true,\n            \"containerId\": \"5d0751e7-244f-4a7f-8ed9-7f4c78426078\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"e3b98191-86f1-496a-aef2-e1ccc10ae360\",\n            \"name\": \"create-client\",\n            \"description\": \"${role_create-client}\",\n            \"composite\": false,\n            \"clientRole\": true,\n            \"containerId\": \"5d0751e7-244f-4a7f-8ed9-7f4c78426078\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"ec178c8c-df8a-4b06-bdef-aba66d049b33\",\n            \"name\": \"realm-admin\",\n            \"description\": \"${role_realm-admin}\",\n            \"composite\": true,\n            \"composites\": {\n              \"client\": {\n                \"realm-management\": [\n                  \"query-clients\",\n                  \"impersonation\",\n                  \"manage-clients\",\n                  \"manage-realm\",\n                  \"manage-identity-providers\",\n                  \"create-client\",\n                  \"view-users\",\n                  \"view-authorization\",\n                  \"view-clients\",\n                  \"view-realm\",\n                  \"view-events\",\n                  \"query-realms\",\n                  \"manage-events\",\n                  \"query-groups\",\n                  \"view-identity-providers\",\n                  \"manage-authorization\",\n                  \"manage-users\",\n                  \"query-users\"\n                ]\n              }\n            },\n            \"clientRole\": true,\n            \"containerId\": \"5d0751e7-244f-4a7f-8ed9-7f4c78426078\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"b29a8fc0-c832-4271-abf2-4505fd5df357\",\n            \"name\": \"view-users\",\n            \"description\": \"${role_view-users}\",\n            \"composite\": true,\n            \"composites\": {\n              \"client\": {\n                \"realm-management\": [\n                  \"query-groups\",\n                  \"query-users\"\n                ]\n              }\n            },\n            \"clientRole\": true,\n            \"containerId\": \"5d0751e7-244f-4a7f-8ed9-7f4c78426078\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"37b48e59-6226-4588-b7b7-b17315ab0b8f\",\n            \"name\": \"view-authorization\",\n            \"description\": \"${role_view-authorization}\",\n            \"composite\": false,\n            \"clientRole\": true,\n            \"containerId\": \"5d0751e7-244f-4a7f-8ed9-7f4c78426078\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"9392e061-ced7-43b5-886b-9cab055c3e97\",\n            \"name\": \"view-clients\",\n            \"description\": \"${role_view-clients}\",\n            \"composite\": true,\n            \"composites\": {\n              \"client\": {\n                \"realm-management\": [\n                  \"query-clients\"\n                ]\n              }\n            },\n            \"clientRole\": true,\n            \"containerId\": \"5d0751e7-244f-4a7f-8ed9-7f4c78426078\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"37b32654-5d3d-431c-9cad-b7cffb749e9a\",\n            \"name\": \"view-realm\",\n            \"description\": \"${role_view-realm}\",\n            \"composite\": false,\n            \"clientRole\": true,\n            \"containerId\": \"5d0751e7-244f-4a7f-8ed9-7f4c78426078\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"fb2cfd14-a586-4361-8221-bf8ee957028b\",\n            \"name\": \"view-events\",\n            \"description\": \"${role_view-events}\",\n            \"composite\": false,\n            \"clientRole\": true,\n            \"containerId\": \"5d0751e7-244f-4a7f-8ed9-7f4c78426078\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"ee4bfc09-0c6e-410b-b0c9-b95dd52ad1aa\",\n            \"name\": \"query-realms\",\n            \"description\": \"${role_query-realms}\",\n            \"composite\": false,\n            \"clientRole\": true,\n            \"containerId\": \"5d0751e7-244f-4a7f-8ed9-7f4c78426078\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"9c9869ec-fadf-4ed8-be5d-1c2f0d6c57a2\",\n            \"name\": \"manage-events\",\n            \"description\": \"${role_manage-events}\",\n            \"composite\": false,\n            \"clientRole\": true,\n            \"containerId\": \"5d0751e7-244f-4a7f-8ed9-7f4c78426078\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"ed6311a2-9d0b-4d6c-b836-44f33f1f46ed\",\n            \"name\": \"query-groups\",\n            \"description\": \"${role_query-groups}\",\n            \"composite\": false,\n            \"clientRole\": true,\n            \"containerId\": \"5d0751e7-244f-4a7f-8ed9-7f4c78426078\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"ea4928cd-cf9e-4115-8d30-660587a45701\",\n            \"name\": \"view-identity-providers\",\n            \"description\": \"${role_view-identity-providers}\",\n            \"composite\": false,\n            \"clientRole\": true,\n            \"containerId\": \"5d0751e7-244f-4a7f-8ed9-7f4c78426078\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"62f000d2-e978-40a7-b1ae-066414980102\",\n            \"name\": \"manage-authorization\",\n            \"description\": \"${role_manage-authorization}\",\n            \"composite\": false,\n            \"clientRole\": true,\n            \"containerId\": \"5d0751e7-244f-4a7f-8ed9-7f4c78426078\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"4a018d37-433c-4014-8417-fe145a4804df\",\n            \"name\": \"manage-users\",\n            \"description\": \"${role_manage-users}\",\n            \"composite\": false,\n            \"clientRole\": true,\n            \"containerId\": \"5d0751e7-244f-4a7f-8ed9-7f4c78426078\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"ecee4d24-a928-42de-af27-90f180a41524\",\n            \"name\": \"query-users\",\n            \"description\": \"${role_query-users}\",\n            \"composite\": false,\n            \"clientRole\": true,\n            \"containerId\": \"5d0751e7-244f-4a7f-8ed9-7f4c78426078\",\n            \"attributes\": {}\n          }\n        ],\n        \"security-admin-console\": [],\n        \"admin-cli\": [],\n        \"account-console\": [],\n        \"broker\": [\n          {\n            \"id\": \"250f3cfc-f1d9-42a8-93ca-7bb25d0399a7\",\n            \"name\": \"read-token\",\n            \"description\": \"${role_read-token}\",\n            \"composite\": false,\n            \"clientRole\": true,\n            \"containerId\": \"cb69e498-4c5e-43e6-95a9-416883c7ea9c\",\n            \"attributes\": {}\n          }\n        ],\n        \"angular-app\": [\n          {\n            \"id\": \"147c4c58-18e0-418f-8c4e-b667c5cfd9a9\",\n            \"name\": \"user\",\n            \"description\": \"\",\n            \"composite\": false,\n            \"clientRole\": true,\n            \"containerId\": \"cbb9a935-49c8-48e8-bcac-075f597e2c2e\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"0d32830c-2c9a-4576-91f6-16c6e90fec4d\",\n            \"name\": \"admin\",\n            \"composite\": false,\n            \"clientRole\": true,\n            \"containerId\": \"cbb9a935-49c8-48e8-bcac-075f597e2c2e\",\n            \"attributes\": {}\n          }\n        ],\n        \"account\": [\n          {\n            \"id\": \"332c1d84-0dc3-4acc-998b-595adf6b0bcb\",\n            \"name\": \"manage-consent\",\n            \"description\": \"${role_manage-consent}\",\n            \"composite\": true,\n            \"composites\": {\n              \"client\": {\n                \"account\": [\n                  \"view-consent\"\n                ]\n              }\n            },\n            \"clientRole\": true,\n            \"containerId\": \"2d12384d-7dab-429a-bb00-0674c961e5a6\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"9d28ef1f-a396-45c3-a6a5-022829322507\",\n            \"name\": \"view-applications\",\n            \"description\": \"${role_view-applications}\",\n            \"composite\": false,\n            \"clientRole\": true,\n            \"containerId\": \"2d12384d-7dab-429a-bb00-0674c961e5a6\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"c362cc54-5557-43e8-9920-0bd185cff0b8\",\n            \"name\": \"delete-account\",\n            \"description\": \"${role_delete-account}\",\n            \"composite\": false,\n            \"clientRole\": true,\n            \"containerId\": \"2d12384d-7dab-429a-bb00-0674c961e5a6\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"c1d9fdce-bb05-44b9-aeed-80a8f0cb97c8\",\n            \"name\": \"manage-account\",\n            \"description\": \"${role_manage-account}\",\n            \"composite\": true,\n            \"composites\": {\n              \"client\": {\n                \"account\": [\n                  \"manage-account-links\"\n                ]\n              }\n            },\n            \"clientRole\": true,\n            \"containerId\": \"2d12384d-7dab-429a-bb00-0674c961e5a6\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"0de1e204-c5ad-4710-b8e6-eb37bb1aba96\",\n            \"name\": \"manage-account-links\",\n            \"description\": \"${role_manage-account-links}\",\n            \"composite\": false,\n            \"clientRole\": true,\n            \"containerId\": \"2d12384d-7dab-429a-bb00-0674c961e5a6\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"2619c412-7626-42b1-b2ba-6469c49ca5be\",\n            \"name\": \"view-consent\",\n            \"description\": \"${role_view-consent}\",\n            \"composite\": false,\n            \"clientRole\": true,\n            \"containerId\": \"2d12384d-7dab-429a-bb00-0674c961e5a6\",\n            \"attributes\": {}\n          },\n          {\n            \"id\": \"3ae5ca3b-ec58-43a0-b408-d598ab8e769d\",\n            \"name\": \"view-profile\",\n            \"description\": \"${role_view-profile}\",\n            \"composite\": false,\n            \"clientRole\": true,\n            \"containerId\": \"2d12384d-7dab-429a-bb00-0674c961e5a6\",\n            \"attributes\": {}\n          }\n        ]\n      }\n    },\n    \"groups\": [],\n    \"defaultRole\": {\n      \"id\": \"a28e1f0d-f4ed-48fa-b852-bc597e40b15b\",\n      \"name\": \"default-roles-auth-e\",\n      \"description\": \"${role_default-roles}\",\n      \"composite\": true,\n      \"clientRole\": false,\n      \"containerId\": \"4be3d066-b8fb-4f7d-bcfa-f0aab01ff557\"\n    },\n    \"requiredCredentials\": [\n      \"password\"\n    ],\n    \"otpPolicyType\": \"totp\",\n    \"otpPolicyAlgorithm\": \"HmacSHA1\",\n    \"otpPolicyInitialCounter\": 0,\n    \"otpPolicyDigits\": 6,\n    \"otpPolicyLookAheadWindow\": 1,\n    \"otpPolicyPeriod\": 30,\n    \"otpSupportedApplications\": [\n      \"FreeOTP\",\n      \"Google Authenticator\"\n    ],\n    \"webAuthnPolicyRpEntityName\": \"keycloak\",\n    \"webAuthnPolicySignatureAlgorithms\": [\n      \"ES256\"\n    ],\n    \"webAuthnPolicyRpId\": \"\",\n    \"webAuthnPolicyAttestationConveyancePreference\": \"not specified\",\n    \"webAuthnPolicyAuthenticatorAttachment\": \"not specified\",\n    \"webAuthnPolicyRequireResidentKey\": \"not specified\",\n    \"webAuthnPolicyUserVerificationRequirement\": \"not specified\",\n    \"webAuthnPolicyCreateTimeout\": 0,\n    \"webAuthnPolicyAvoidSameAuthenticatorRegister\": false,\n    \"webAuthnPolicyAcceptableAaguids\": [],\n    \"webAuthnPolicyPasswordlessRpEntityName\": \"keycloak\",\n    \"webAuthnPolicyPasswordlessSignatureAlgorithms\": [\n      \"ES256\"\n    ],\n    \"webAuthnPolicyPasswordlessRpId\": \"\",\n    \"webAuthnPolicyPasswordlessAttestationConveyancePreference\": \"not specified\",\n    \"webAuthnPolicyPasswordlessAuthenticatorAttachment\": \"not specified\",\n    \"webAuthnPolicyPasswordlessRequireResidentKey\": \"not specified\",\n    \"webAuthnPolicyPasswordlessUserVerificationRequirement\": \"not specified\",\n    \"webAuthnPolicyPasswordlessCreateTimeout\": 0,\n    \"webAuthnPolicyPasswordlessAvoidSameAuthenticatorRegister\": false,\n    \"webAuthnPolicyPasswordlessAcceptableAaguids\": [],\n    \"scopeMappings\": [\n      {\n        \"clientScope\": \"offline_access\",\n        \"roles\": [\n          \"offline_access\"\n        ]\n      }\n    ],\n    \"clientScopeMappings\": {\n      \"account\": [\n        {\n          \"client\": \"account-console\",\n          \"roles\": [\n            \"manage-account\"\n          ]\n        }\n      ]\n    },\n    \"clients\": [\n      {\n        \"id\": \"2d12384d-7dab-429a-bb00-0674c961e5a6\",\n        \"clientId\": \"account\",\n        \"name\": \"${client_account}\",\n        \"rootUrl\": \"${authBaseUrl}\",\n        \"baseUrl\": \"/realms/Auth-E/account/\",\n        \"surrogateAuthRequired\": false,\n        \"enabled\": true,\n        \"alwaysDisplayInConsole\": false,\n        \"clientAuthenticatorType\": \"client-secret\",\n        \"redirectUris\": [\n          \"/realms/Auth-E/account/*\"\n        ],\n        \"webOrigins\": [],\n        \"notBefore\": 0,\n        \"bearerOnly\": false,\n        \"consentRequired\": false,\n        \"standardFlowEnabled\": true,\n        \"implicitFlowEnabled\": false,\n        \"directAccessGrantsEnabled\": false,\n        \"serviceAccountsEnabled\": false,\n        \"publicClient\": true,\n        \"frontchannelLogout\": false,\n        \"protocol\": \"openid-connect\",\n        \"attributes\": {},\n        \"authenticationFlowBindingOverrides\": {},\n        \"fullScopeAllowed\": false,\n        \"nodeReRegistrationTimeout\": 0,\n        \"defaultClientScopes\": [\n          \"web-origins\",\n          \"acr\",\n          \"profile\",\n          \"roles\",\n          \"email\"\n        ],\n        \"optionalClientScopes\": [\n          \"address\",\n          \"phone\",\n          \"offline_access\",\n          \"microprofile-jwt\"\n        ]\n      },\n      {\n        \"id\": \"68b12b8e-f1f2-4581-a904-031c7c1a1175\",\n        \"clientId\": \"account-console\",\n        \"name\": \"${client_account-console}\",\n        \"rootUrl\": \"${authBaseUrl}\",\n        \"baseUrl\": \"/realms/Auth-E/account/\",\n        \"surrogateAuthRequired\": false,\n        \"enabled\": true,\n        \"alwaysDisplayInConsole\": false,\n        \"clientAuthenticatorType\": \"client-secret\",\n        \"redirectUris\": [\n          \"/realms/Auth-E/account/*\"\n        ],\n        \"webOrigins\": [],\n        \"notBefore\": 0,\n        \"bearerOnly\": false,\n        \"consentRequired\": false,\n        \"standardFlowEnabled\": true,\n        \"implicitFlowEnabled\": false,\n        \"directAccessGrantsEnabled\": false,\n        \"serviceAccountsEnabled\": false,\n        \"publicClient\": true,\n        \"frontchannelLogout\": false,\n        \"protocol\": \"openid-connect\",\n        \"attributes\": {\n          \"pkce.code.challenge.method\": \"S256\"\n        },\n        \"authenticationFlowBindingOverrides\": {},\n        \"fullScopeAllowed\": false,\n        \"nodeReRegistrationTimeout\": 0,\n        \"protocolMappers\": [\n          {\n            \"id\": \"a0ecbb1a-bdc9-4960-aa56-35cb61f72cb5\",\n            \"name\": \"audience resolve\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-audience-resolve-mapper\",\n            \"consentRequired\": false,\n            \"config\": {}\n          }\n        ],\n        \"defaultClientScopes\": [\n          \"web-origins\",\n          \"acr\",\n          \"profile\",\n          \"roles\",\n          \"email\"\n        ],\n        \"optionalClientScopes\": [\n          \"address\",\n          \"phone\",\n          \"offline_access\",\n          \"microprofile-jwt\"\n        ]\n      },\n      {\n        \"id\": \"6ce668ba-704a-40db-b3f9-56233508a736\",\n        \"clientId\": \"admin-cli\",\n        \"name\": \"${client_admin-cli}\",\n        \"surrogateAuthRequired\": false,\n        \"enabled\": true,\n        \"alwaysDisplayInConsole\": false,\n        \"clientAuthenticatorType\": \"client-secret\",\n        \"redirectUris\": [],\n        \"webOrigins\": [],\n        \"notBefore\": 0,\n        \"bearerOnly\": false,\n        \"consentRequired\": false,\n        \"standardFlowEnabled\": false,\n        \"implicitFlowEnabled\": false,\n        \"directAccessGrantsEnabled\": true,\n        \"serviceAccountsEnabled\": false,\n        \"publicClient\": true,\n        \"frontchannelLogout\": false,\n        \"protocol\": \"openid-connect\",\n        \"attributes\": {},\n        \"authenticationFlowBindingOverrides\": {},\n        \"fullScopeAllowed\": false,\n        \"nodeReRegistrationTimeout\": 0,\n        \"defaultClientScopes\": [\n          \"web-origins\",\n          \"acr\",\n          \"profile\",\n          \"roles\",\n          \"email\"\n        ],\n        \"optionalClientScopes\": [\n          \"address\",\n          \"phone\",\n          \"offline_access\",\n          \"microprofile-jwt\"\n        ]\n      },\n      {\n        \"id\": \"cbb9a935-49c8-48e8-bcac-075f597e2c2e\",\n        \"clientId\": \"angular-app\",\n        \"name\": \"Angular app\",\n        \"description\": \"\",\n        \"rootUrl\": \"https://${APP_SUBDOMAIN}.${APP_DOMAIN}\",\n        \"adminUrl\": \"\",\n        \"baseUrl\": \"\",\n        \"surrogateAuthRequired\": false,\n        \"enabled\": true,\n        \"alwaysDisplayInConsole\": false,\n        \"clientAuthenticatorType\": \"client-secret\",\n        \"redirectUris\": [\n          \"https://${APP_SUBDOMAIN}.${APP_DOMAIN}/*\"\n        ],\n        \"webOrigins\": [\n          \"*\"\n        ],\n        \"notBefore\": 0,\n        \"bearerOnly\": false,\n        \"consentRequired\": false,\n        \"standardFlowEnabled\": true,\n        \"implicitFlowEnabled\": true,\n        \"directAccessGrantsEnabled\": true,\n        \"serviceAccountsEnabled\": false,\n        \"publicClient\": true,\n        \"frontchannelLogout\": true,\n        \"protocol\": \"openid-connect\",\n        \"attributes\": {\n          \"oidc.ciba.grant.enabled\": \"false\",\n          \"display.on.consent.screen\": \"false\",\n          \"oauth2.device.authorization.grant.enabled\": \"false\",\n          \"backchannel.logout.session.required\": \"true\",\n          \"backchannel.logout.revoke.offline.tokens\": \"false\"\n        },\n        \"authenticationFlowBindingOverrides\": {},\n        \"fullScopeAllowed\": true,\n        \"nodeReRegistrationTimeout\": -1,\n        \"defaultClientScopes\": [\n          \"web-origins\",\n          \"acr\",\n          \"profile\",\n          \"roles\",\n          \"email\"\n        ],\n        \"optionalClientScopes\": [\n          \"address\",\n          \"phone\",\n          \"offline_access\",\n          \"microprofile-jwt\"\n        ]\n      },\n      {\n        \"id\": \"cb69e498-4c5e-43e6-95a9-416883c7ea9c\",\n        \"clientId\": \"broker\",\n        \"name\": \"${client_broker}\",\n        \"surrogateAuthRequired\": false,\n        \"enabled\": true,\n        \"alwaysDisplayInConsole\": false,\n        \"clientAuthenticatorType\": \"client-secret\",\n        \"redirectUris\": [],\n        \"webOrigins\": [],\n        \"notBefore\": 0,\n        \"bearerOnly\": true,\n        \"consentRequired\": false,\n        \"standardFlowEnabled\": true,\n        \"implicitFlowEnabled\": false,\n        \"directAccessGrantsEnabled\": false,\n        \"serviceAccountsEnabled\": false,\n        \"publicClient\": false,\n        \"frontchannelLogout\": false,\n        \"protocol\": \"openid-connect\",\n        \"attributes\": {},\n        \"authenticationFlowBindingOverrides\": {},\n        \"fullScopeAllowed\": false,\n        \"nodeReRegistrationTimeout\": 0,\n        \"defaultClientScopes\": [\n          \"web-origins\",\n          \"acr\",\n          \"profile\",\n          \"roles\",\n          \"email\"\n        ],\n        \"optionalClientScopes\": [\n          \"address\",\n          \"phone\",\n          \"offline_access\",\n          \"microprofile-jwt\"\n        ]\n      },\n      {\n        \"id\": \"5d0751e7-244f-4a7f-8ed9-7f4c78426078\",\n        \"clientId\": \"realm-management\",\n        \"name\": \"${client_realm-management}\",\n        \"surrogateAuthRequired\": false,\n        \"enabled\": true,\n        \"alwaysDisplayInConsole\": false,\n        \"clientAuthenticatorType\": \"client-secret\",\n        \"redirectUris\": [],\n        \"webOrigins\": [],\n        \"notBefore\": 0,\n        \"bearerOnly\": true,\n        \"consentRequired\": false,\n        \"standardFlowEnabled\": true,\n        \"implicitFlowEnabled\": false,\n        \"directAccessGrantsEnabled\": false,\n        \"serviceAccountsEnabled\": false,\n        \"publicClient\": false,\n        \"frontchannelLogout\": false,\n        \"protocol\": \"openid-connect\",\n        \"attributes\": {},\n        \"authenticationFlowBindingOverrides\": {},\n        \"fullScopeAllowed\": false,\n        \"nodeReRegistrationTimeout\": 0,\n        \"defaultClientScopes\": [\n          \"web-origins\",\n          \"acr\",\n          \"profile\",\n          \"roles\",\n          \"email\"\n        ],\n        \"optionalClientScopes\": [\n          \"address\",\n          \"phone\",\n          \"offline_access\",\n          \"microprofile-jwt\"\n        ]\n      },\n      {\n        \"id\": \"20523def-77d7-4b31-960e-2f9caf379a4e\",\n        \"clientId\": \"security-admin-console\",\n        \"name\": \"${client_security-admin-console}\",\n        \"rootUrl\": \"${authAdminUrl}\",\n        \"baseUrl\": \"/admin/Auth-E/console/\",\n        \"surrogateAuthRequired\": false,\n        \"enabled\": true,\n        \"alwaysDisplayInConsole\": false,\n        \"clientAuthenticatorType\": \"client-secret\",\n        \"redirectUris\": [\n          \"/admin/Auth-E/console/*\"\n        ],\n        \"webOrigins\": [\n          \"+\"\n        ],\n        \"notBefore\": 0,\n        \"bearerOnly\": false,\n        \"consentRequired\": false,\n        \"standardFlowEnabled\": true,\n        \"implicitFlowEnabled\": false,\n        \"directAccessGrantsEnabled\": false,\n        \"serviceAccountsEnabled\": false,\n        \"publicClient\": true,\n        \"frontchannelLogout\": false,\n        \"protocol\": \"openid-connect\",\n        \"attributes\": {\n          \"pkce.code.challenge.method\": \"S256\"\n        },\n        \"authenticationFlowBindingOverrides\": {},\n        \"fullScopeAllowed\": false,\n        \"nodeReRegistrationTimeout\": 0,\n        \"protocolMappers\": [\n          {\n            \"id\": \"7edc270a-8cbd-43dc-aa20-ae35b54f147a\",\n            \"name\": \"locale\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"userinfo.token.claim\": \"true\",\n              \"user.attribute\": \"locale\",\n              \"id.token.claim\": \"true\",\n              \"access.token.claim\": \"true\",\n              \"claim.name\": \"locale\",\n              \"jsonType.label\": \"String\"\n            }\n          }\n        ],\n        \"defaultClientScopes\": [\n          \"web-origins\",\n          \"acr\",\n          \"profile\",\n          \"roles\",\n          \"email\"\n        ],\n        \"optionalClientScopes\": [\n          \"address\",\n          \"phone\",\n          \"offline_access\",\n          \"microprofile-jwt\"\n        ]\n      }\n    ],\n    \"clientScopes\": [\n      {\n        \"id\": \"7cb95123-72de-4654-b023-9e6e2f83ed57\",\n        \"name\": \"offline_access\",\n        \"description\": \"OpenID Connect built-in scope: offline_access\",\n        \"protocol\": \"openid-connect\",\n        \"attributes\": {\n          \"consent.screen.text\": \"${offlineAccessScopeConsentText}\",\n          \"display.on.consent.screen\": \"true\"\n        }\n      },\n      {\n        \"id\": \"10702b4f-e360-41e3-990e-cf2dd0fb5b6a\",\n        \"name\": \"microprofile-jwt\",\n        \"description\": \"Microprofile - JWT built-in scope\",\n        \"protocol\": \"openid-connect\",\n        \"attributes\": {\n          \"include.in.token.scope\": \"true\",\n          \"display.on.consent.screen\": \"false\"\n        },\n        \"protocolMappers\": [\n          {\n            \"id\": \"5d0b07ae-bd47-49f8-b593-70e71d63e915\",\n            \"name\": \"groups\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-usermodel-realm-role-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"multivalued\": \"true\",\n              \"user.attribute\": \"foo\",\n              \"id.token.claim\": \"true\",\n              \"access.token.claim\": \"true\",\n              \"claim.name\": \"groups\",\n              \"jsonType.label\": \"String\"\n            }\n          },\n          {\n            \"id\": \"88360266-8b38-4260-ac84-7d3ecf046460\",\n            \"name\": \"upn\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-usermodel-property-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"userinfo.token.claim\": \"true\",\n              \"user.attribute\": \"username\",\n              \"id.token.claim\": \"true\",\n              \"access.token.claim\": \"true\",\n              \"claim.name\": \"upn\",\n              \"jsonType.label\": \"String\"\n            }\n          }\n        ]\n      },\n      {\n        \"id\": \"922ef40a-c38f-4cff-ba68-3cce7649de08\",\n        \"name\": \"phone\",\n        \"description\": \"OpenID Connect built-in scope: phone\",\n        \"protocol\": \"openid-connect\",\n        \"attributes\": {\n          \"include.in.token.scope\": \"true\",\n          \"display.on.consent.screen\": \"true\",\n          \"consent.screen.text\": \"${phoneScopeConsentText}\"\n        },\n        \"protocolMappers\": [\n          {\n            \"id\": \"9242c938-cf50-4f67-9fce-508319144768\",\n            \"name\": \"phone number\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"userinfo.token.claim\": \"true\",\n              \"user.attribute\": \"phoneNumber\",\n              \"id.token.claim\": \"true\",\n              \"access.token.claim\": \"true\",\n              \"claim.name\": \"phone_number\",\n              \"jsonType.label\": \"String\"\n            }\n          },\n          {\n            \"id\": \"0770a3dc-fa37-45a8-bf80-1903decd7852\",\n            \"name\": \"phone number verified\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"userinfo.token.claim\": \"true\",\n              \"user.attribute\": \"phoneNumberVerified\",\n              \"id.token.claim\": \"true\",\n              \"access.token.claim\": \"true\",\n              \"claim.name\": \"phone_number_verified\",\n              \"jsonType.label\": \"boolean\"\n            }\n          }\n        ]\n      },\n      {\n        \"id\": \"8a513742-37a3-4344-9b41-b89ce1c56880\",\n        \"name\": \"acr\",\n        \"description\": \"OpenID Connect scope for add acr (authentication context class reference) to the token\",\n        \"protocol\": \"openid-connect\",\n        \"attributes\": {\n          \"include.in.token.scope\": \"false\",\n          \"display.on.consent.screen\": \"false\"\n        },\n        \"protocolMappers\": [\n          {\n            \"id\": \"6f9599ba-4934-4dc9-9c1e-e1d658702695\",\n            \"name\": \"acr loa level\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-acr-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"id.token.claim\": \"true\",\n              \"access.token.claim\": \"true\"\n            }\n          }\n        ]\n      },\n      {\n        \"id\": \"72392e08-b3c3-4f16-9510-47b12777f957\",\n        \"name\": \"web-origins\",\n        \"description\": \"OpenID Connect scope for add allowed web origins to the access token\",\n        \"protocol\": \"openid-connect\",\n        \"attributes\": {\n          \"include.in.token.scope\": \"false\",\n          \"display.on.consent.screen\": \"false\",\n          \"consent.screen.text\": \"\"\n        },\n        \"protocolMappers\": [\n          {\n            \"id\": \"6829db93-e998-4b32-9a34-0f9a4a737c04\",\n            \"name\": \"allowed web origins\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-allowed-origins-mapper\",\n            \"consentRequired\": false,\n            \"config\": {}\n          }\n        ]\n      },\n      {\n        \"id\": \"d6193921-d9fa-4912-931f-28b76b8a93f8\",\n        \"name\": \"address\",\n        \"description\": \"OpenID Connect built-in scope: address\",\n        \"protocol\": \"openid-connect\",\n        \"attributes\": {\n          \"include.in.token.scope\": \"true\",\n          \"display.on.consent.screen\": \"true\",\n          \"consent.screen.text\": \"${addressScopeConsentText}\"\n        },\n        \"protocolMappers\": [\n          {\n            \"id\": \"772a63b5-ac63-42c6-bd88-11bcfdf7c16a\",\n            \"name\": \"address\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-address-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"user.attribute.formatted\": \"formatted\",\n              \"user.attribute.country\": \"country\",\n              \"user.attribute.postal_code\": \"postal_code\",\n              \"userinfo.token.claim\": \"true\",\n              \"user.attribute.street\": \"street\",\n              \"id.token.claim\": \"true\",\n              \"user.attribute.region\": \"region\",\n              \"access.token.claim\": \"true\",\n              \"user.attribute.locality\": \"locality\"\n            }\n          }\n        ]\n      },\n      {\n        \"id\": \"b0595cdd-6cf1-4477-b317-71b78147fd3a\",\n        \"name\": \"role_list\",\n        \"description\": \"SAML role list\",\n        \"protocol\": \"saml\",\n        \"attributes\": {\n          \"consent.screen.text\": \"${samlRoleListScopeConsentText}\",\n          \"display.on.consent.screen\": \"true\"\n        },\n        \"protocolMappers\": [\n          {\n            \"id\": \"ca6e8e77-164f-4ecc-937b-75d37e82a904\",\n            \"name\": \"role list\",\n            \"protocol\": \"saml\",\n            \"protocolMapper\": \"saml-role-list-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"single\": \"false\",\n              \"attribute.nameformat\": \"Basic\",\n              \"attribute.name\": \"Role\"\n            }\n          }\n        ]\n      },\n      {\n        \"id\": \"33dedae7-2356-46f7-bcda-4c0c87a64678\",\n        \"name\": \"email\",\n        \"description\": \"OpenID Connect built-in scope: email\",\n        \"protocol\": \"openid-connect\",\n        \"attributes\": {\n          \"include.in.token.scope\": \"true\",\n          \"display.on.consent.screen\": \"true\",\n          \"consent.screen.text\": \"${emailScopeConsentText}\"\n        },\n        \"protocolMappers\": [\n          {\n            \"id\": \"c94aff37-bb17-42b0-87d0-727ed2e03726\",\n            \"name\": \"email verified\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-usermodel-property-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"userinfo.token.claim\": \"true\",\n              \"user.attribute\": \"emailVerified\",\n              \"id.token.claim\": \"true\",\n              \"access.token.claim\": \"true\",\n              \"claim.name\": \"email_verified\",\n              \"jsonType.label\": \"boolean\"\n            }\n          },\n          {\n            \"id\": \"2e9588a3-d87c-4c91-8a1a-b9834126aacc\",\n            \"name\": \"email\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-usermodel-property-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"userinfo.token.claim\": \"true\",\n              \"user.attribute\": \"email\",\n              \"id.token.claim\": \"true\",\n              \"access.token.claim\": \"true\",\n              \"claim.name\": \"email\",\n              \"jsonType.label\": \"String\"\n            }\n          }\n        ]\n      },\n      {\n        \"id\": \"43a77f06-54bc-4e1f-8099-2e64fabcf75d\",\n        \"name\": \"profile\",\n        \"description\": \"OpenID Connect built-in scope: profile\",\n        \"protocol\": \"openid-connect\",\n        \"attributes\": {\n          \"include.in.token.scope\": \"true\",\n          \"display.on.consent.screen\": \"true\",\n          \"consent.screen.text\": \"${profileScopeConsentText}\"\n        },\n        \"protocolMappers\": [\n          {\n            \"id\": \"697e2d7b-8a98-48fb-aa04-4bbde17bf9dc\",\n            \"name\": \"website\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"userinfo.token.claim\": \"true\",\n              \"user.attribute\": \"website\",\n              \"id.token.claim\": \"true\",\n              \"access.token.claim\": \"true\",\n              \"claim.name\": \"website\",\n              \"jsonType.label\": \"String\"\n            }\n          },\n          {\n            \"id\": \"8f189b83-b071-4edd-a00b-cf7e1bd21754\",\n            \"name\": \"zoneinfo\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"userinfo.token.claim\": \"true\",\n              \"user.attribute\": \"zoneinfo\",\n              \"id.token.claim\": \"true\",\n              \"access.token.claim\": \"true\",\n              \"claim.name\": \"zoneinfo\",\n              \"jsonType.label\": \"String\"\n            }\n          },\n          {\n            \"id\": \"4a535571-fa7e-4026-a350-4fbfd1031ba3\",\n            \"name\": \"username\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-usermodel-property-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"userinfo.token.claim\": \"true\",\n              \"user.attribute\": \"username\",\n              \"id.token.claim\": \"true\",\n              \"access.token.claim\": \"true\",\n              \"claim.name\": \"preferred_username\",\n              \"jsonType.label\": \"String\"\n            }\n          },\n          {\n            \"id\": \"8ebd6c73-72ac-465d-9613-9cc4673a740c\",\n            \"name\": \"locale\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"userinfo.token.claim\": \"true\",\n              \"user.attribute\": \"locale\",\n              \"id.token.claim\": \"true\",\n              \"access.token.claim\": \"true\",\n              \"claim.name\": \"locale\",\n              \"jsonType.label\": \"String\"\n            }\n          },\n          {\n            \"id\": \"b427f9ea-38ec-41d3-8b7b-273c518e4cb3\",\n            \"name\": \"birthdate\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"userinfo.token.claim\": \"true\",\n              \"user.attribute\": \"birthdate\",\n              \"id.token.claim\": \"true\",\n              \"access.token.claim\": \"true\",\n              \"claim.name\": \"birthdate\",\n              \"jsonType.label\": \"String\"\n            }\n          },\n          {\n            \"id\": \"d9fdaf1f-8cd5-41ec-a055-9a20caa10580\",\n            \"name\": \"updated at\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"userinfo.token.claim\": \"true\",\n              \"user.attribute\": \"updatedAt\",\n              \"id.token.claim\": \"true\",\n              \"access.token.claim\": \"true\",\n              \"claim.name\": \"updated_at\",\n              \"jsonType.label\": \"long\"\n            }\n          },\n          {\n            \"id\": \"6f85c563-4036-437a-9346-fd17dba055b7\",\n            \"name\": \"picture\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"userinfo.token.claim\": \"true\",\n              \"user.attribute\": \"picture\",\n              \"id.token.claim\": \"true\",\n              \"access.token.claim\": \"true\",\n              \"claim.name\": \"picture\",\n              \"jsonType.label\": \"String\"\n            }\n          },\n          {\n            \"id\": \"94f99530-bca1-4e16-adc2-85acabff8866\",\n            \"name\": \"full name\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-full-name-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"id.token.claim\": \"true\",\n              \"access.token.claim\": \"true\",\n              \"userinfo.token.claim\": \"true\"\n            }\n          },\n          {\n            \"id\": \"4859bb5a-5e4b-495f-b695-4c0ccf639bf6\",\n            \"name\": \"given name\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-usermodel-property-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"userinfo.token.claim\": \"true\",\n              \"user.attribute\": \"firstName\",\n              \"id.token.claim\": \"true\",\n              \"access.token.claim\": \"true\",\n              \"claim.name\": \"given_name\",\n              \"jsonType.label\": \"String\"\n            }\n          },\n          {\n            \"id\": \"a51b67bd-ea3d-491d-b38d-94142c5229c7\",\n            \"name\": \"profile\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"userinfo.token.claim\": \"true\",\n              \"user.attribute\": \"profile\",\n              \"id.token.claim\": \"true\",\n              \"access.token.claim\": \"true\",\n              \"claim.name\": \"profile\",\n              \"jsonType.label\": \"String\"\n            }\n          },\n          {\n            \"id\": \"af89d364-53c7-48b5-942d-e1c84606e93c\",\n            \"name\": \"middle name\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"userinfo.token.claim\": \"true\",\n              \"user.attribute\": \"middleName\",\n              \"id.token.claim\": \"true\",\n              \"access.token.claim\": \"true\",\n              \"claim.name\": \"middle_name\",\n              \"jsonType.label\": \"String\"\n            }\n          },\n          {\n            \"id\": \"e8f57cba-b637-4f91-96a0-834395ef9404\",\n            \"name\": \"gender\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"userinfo.token.claim\": \"true\",\n              \"user.attribute\": \"gender\",\n              \"id.token.claim\": \"true\",\n              \"access.token.claim\": \"true\",\n              \"claim.name\": \"gender\",\n              \"jsonType.label\": \"String\"\n            }\n          },\n          {\n            \"id\": \"5c87997b-e664-43b5-9544-098512077dbe\",\n            \"name\": \"nickname\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"userinfo.token.claim\": \"true\",\n              \"user.attribute\": \"nickname\",\n              \"id.token.claim\": \"true\",\n              \"access.token.claim\": \"true\",\n              \"claim.name\": \"nickname\",\n              \"jsonType.label\": \"String\"\n            }\n          },\n          {\n            \"id\": \"21ec1c07-7af0-4934-a79d-466d8f27e28d\",\n            \"name\": \"family name\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-usermodel-property-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"userinfo.token.claim\": \"true\",\n              \"user.attribute\": \"lastName\",\n              \"id.token.claim\": \"true\",\n              \"access.token.claim\": \"true\",\n              \"claim.name\": \"family_name\",\n              \"jsonType.label\": \"String\"\n            }\n          }\n        ]\n      },\n      {\n        \"id\": \"b2abb3f9-2d9f-4d9d-8ece-4d1d74d3ec99\",\n        \"name\": \"roles\",\n        \"description\": \"OpenID Connect scope for add user roles to the access token\",\n        \"protocol\": \"openid-connect\",\n        \"attributes\": {\n          \"include.in.token.scope\": \"false\",\n          \"display.on.consent.screen\": \"true\",\n          \"consent.screen.text\": \"${rolesScopeConsentText}\"\n        },\n        \"protocolMappers\": [\n          {\n            \"id\": \"26f16068-d6f4-4a6e-b31d-196daf58dd86\",\n            \"name\": \"realm roles\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-usermodel-realm-role-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"user.attribute\": \"foo\",\n              \"access.token.claim\": \"true\",\n              \"claim.name\": \"realm_access.roles\",\n              \"jsonType.label\": \"String\",\n              \"multivalued\": \"true\"\n            }\n          },\n          {\n            \"id\": \"bdc2780c-6d33-4201-a546-20cd8fb49d03\",\n            \"name\": \"client roles\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-usermodel-client-role-mapper\",\n            \"consentRequired\": false,\n            \"config\": {\n              \"user.attribute\": \"foo\",\n              \"access.token.claim\": \"true\",\n              \"claim.name\": \"resource_access.${client_id}.roles\",\n              \"jsonType.label\": \"String\",\n              \"multivalued\": \"true\"\n            }\n          },\n          {\n            \"id\": \"90fd377e-e187-477f-8fce-eab95b9eac23\",\n            \"name\": \"audience resolve\",\n            \"protocol\": \"openid-connect\",\n            \"protocolMapper\": \"oidc-audience-resolve-mapper\",\n            \"consentRequired\": false,\n            \"config\": {}\n          }\n        ]\n      }\n    ],\n    \"defaultDefaultClientScopes\": [\n      \"role_list\",\n      \"profile\",\n      \"email\",\n      \"roles\",\n      \"web-origins\",\n      \"acr\"\n    ],\n    \"defaultOptionalClientScopes\": [\n      \"offline_access\",\n      \"address\",\n      \"phone\",\n      \"microprofile-jwt\"\n    ],\n    \"browserSecurityHeaders\": {\n      \"contentSecurityPolicyReportOnly\": \"\",\n      \"xContentTypeOptions\": \"nosniff\",\n      \"xRobotsTag\": \"none\",\n      \"xFrameOptions\": \"SAMEORIGIN\",\n      \"contentSecurityPolicy\": \"frame-src 'self'; frame-ancestors 'self'; object-src 'none';\",\n      \"xXSSProtection\": \"1; mode=block\",\n      \"strictTransportSecurity\": \"max-age=31536000; includeSubDomains\"\n    },\n    \"smtpServer\": {},\n    \"eventsEnabled\": false,\n    \"eventsListeners\": [\n      \"jboss-logging\"\n    ],\n    \"enabledEventTypes\": [],\n    \"adminEventsEnabled\": false,\n    \"adminEventsDetailsEnabled\": false,\n    \"identityProviders\": [],\n    \"identityProviderMappers\": [],\n    \"components\": {\n      \"org.keycloak.services.clientregistration.policy.ClientRegistrationPolicy\": [\n        {\n          \"id\": \"a4e48a9a-3e49-4997-a703-43b304dada19\",\n          \"name\": \"Allowed Protocol Mapper Types\",\n          \"providerId\": \"allowed-protocol-mappers\",\n          \"subType\": \"authenticated\",\n          \"subComponents\": {},\n          \"config\": {\n            \"allowed-protocol-mapper-types\": [\n              \"oidc-full-name-mapper\",\n              \"oidc-usermodel-attribute-mapper\",\n              \"oidc-address-mapper\",\n              \"oidc-sha256-pairwise-sub-mapper\",\n              \"saml-user-attribute-mapper\",\n              \"saml-user-property-mapper\",\n              \"oidc-usermodel-property-mapper\",\n              \"saml-role-list-mapper\"\n            ]\n          }\n        },\n        {\n          \"id\": \"cf660fba-67fe-4794-8fd1-b656780dcd2e\",\n          \"name\": \"Allowed Client Scopes\",\n          \"providerId\": \"allowed-client-templates\",\n          \"subType\": \"authenticated\",\n          \"subComponents\": {},\n          \"config\": {\n            \"allow-default-scopes\": [\n              \"true\"\n            ]\n          }\n        },\n        {\n          \"id\": \"1827123b-dcc3-40df-9d10-028d6486a76b\",\n          \"name\": \"Allowed Client Scopes\",\n          \"providerId\": \"allowed-client-templates\",\n          \"subType\": \"anonymous\",\n          \"subComponents\": {},\n          \"config\": {\n            \"allow-default-scopes\": [\n              \"true\"\n            ]\n          }\n        },\n        {\n          \"id\": \"816cec9f-944f-4585-90b6-a4b9f0756fa4\",\n          \"name\": \"Consent Required\",\n          \"providerId\": \"consent-required\",\n          \"subType\": \"anonymous\",\n          \"subComponents\": {},\n          \"config\": {}\n        },\n        {\n          \"id\": \"8c644533-3a47-4b86-9755-a39bd4016850\",\n          \"name\": \"Allowed Protocol Mapper Types\",\n          \"providerId\": \"allowed-protocol-mappers\",\n          \"subType\": \"anonymous\",\n          \"subComponents\": {},\n          \"config\": {\n            \"allowed-protocol-mapper-types\": [\n              \"saml-user-attribute-mapper\",\n              \"saml-role-list-mapper\",\n              \"oidc-usermodel-property-mapper\",\n              \"oidc-address-mapper\",\n              \"saml-user-property-mapper\",\n              \"oidc-full-name-mapper\",\n              \"oidc-sha256-pairwise-sub-mapper\",\n              \"oidc-usermodel-attribute-mapper\"\n            ]\n          }\n        },\n        {\n          \"id\": \"9fff7758-a58f-4857-bcec-b52c584b4f0c\",\n          \"name\": \"Trusted Hosts\",\n          \"providerId\": \"trusted-hosts\",\n          \"subType\": \"anonymous\",\n          \"subComponents\": {},\n          \"config\": {\n            \"host-sending-registration-request-must-match\": [\n              \"true\"\n            ],\n            \"client-uris-must-match\": [\n              \"true\"\n            ]\n          }\n        },\n        {\n          \"id\": \"8ac09297-f8b7-428b-8bb2-d190b709fdbd\",\n          \"name\": \"Full Scope Disabled\",\n          \"providerId\": \"scope\",\n          \"subType\": \"anonymous\",\n          \"subComponents\": {},\n          \"config\": {}\n        },\n        {\n          \"id\": \"f844da18-de83-4bc5-981c-153e93c48437\",\n          \"name\": \"Max Clients Limit\",\n          \"providerId\": \"max-clients\",\n          \"subType\": \"anonymous\",\n          \"subComponents\": {},\n          \"config\": {\n            \"max-clients\": [\n              \"200\"\n            ]\n          }\n        }\n      ],\n      \"org.keycloak.keys.KeyProvider\": [\n        {\n          \"id\": \"c885f1b4-6f02-45f3-aa2f-4eda28e5cb11\",\n          \"name\": \"rsa-generated\",\n          \"providerId\": \"rsa-generated\",\n          \"subComponents\": {},\n          \"config\": {\n            \"priority\": [\n              \"100\"\n            ]\n          }\n        },\n        {\n          \"id\": \"5ad35f09-a86f-414f-a712-d960453d52f5\",\n          \"name\": \"rsa-enc-generated\",\n          \"providerId\": \"rsa-enc-generated\",\n          \"subComponents\": {},\n          \"config\": {\n            \"priority\": [\n              \"100\"\n            ],\n            \"algorithm\": [\n              \"RSA-OAEP\"\n            ]\n          }\n        },\n        {\n          \"id\": \"de03d5bc-0f5d-4b9b-b722-fc66a127b8f2\",\n          \"name\": \"hmac-generated\",\n          \"providerId\": \"hmac-generated\",\n          \"subComponents\": {},\n          \"config\": {\n            \"priority\": [\n              \"100\"\n            ],\n            \"algorithm\": [\n              \"HS256\"\n            ]\n          }\n        },\n        {\n          \"id\": \"9c2635a3-61c7-498e-ac9f-182223cb7a68\",\n          \"name\": \"aes-generated\",\n          \"providerId\": \"aes-generated\",\n          \"subComponents\": {},\n          \"config\": {\n            \"priority\": [\n              \"100\"\n            ]\n          }\n        }\n      ]\n    },\n    \"internationalizationEnabled\": false,\n    \"supportedLocales\": [],\n    \"authenticationFlows\": [\n      {\n        \"id\": \"6bb19763-a16c-488f-9d2b-3c7abdbf7e29\",\n        \"alias\": \"Account verification options\",\n        \"description\": \"Method with which to verity the existing account\",\n        \"providerId\": \"basic-flow\",\n        \"topLevel\": false,\n        \"builtIn\": true,\n        \"authenticationExecutions\": [\n          {\n            \"authenticator\": \"idp-email-verification\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"ALTERNATIVE\",\n            \"priority\": 10,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticatorFlow\": true,\n            \"requirement\": \"ALTERNATIVE\",\n            \"priority\": 20,\n            \"autheticatorFlow\": true,\n            \"flowAlias\": \"Verify Existing Account by Re-authentication\",\n            \"userSetupAllowed\": false\n          }\n        ]\n      },\n      {\n        \"id\": \"47230134-e88d-4229-9fc0-fd8a2d1c0882\",\n        \"alias\": \"Authentication Options\",\n        \"description\": \"Authentication options.\",\n        \"providerId\": \"basic-flow\",\n        \"topLevel\": false,\n        \"builtIn\": true,\n        \"authenticationExecutions\": [\n          {\n            \"authenticator\": \"basic-auth\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 10,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticator\": \"basic-auth-otp\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"DISABLED\",\n            \"priority\": 20,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticator\": \"auth-spnego\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"DISABLED\",\n            \"priority\": 30,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          }\n        ]\n      },\n      {\n        \"id\": \"2d1db3c2-afe0-4361-a0c5-9733c2a2e4fb\",\n        \"alias\": \"Browser - Conditional OTP\",\n        \"description\": \"Flow to determine if the OTP is required for the authentication\",\n        \"providerId\": \"basic-flow\",\n        \"topLevel\": false,\n        \"builtIn\": true,\n        \"authenticationExecutions\": [\n          {\n            \"authenticator\": \"conditional-user-configured\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 10,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticator\": \"auth-otp-form\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 20,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          }\n        ]\n      },\n      {\n        \"id\": \"7ca74895-faca-47f3-a137-667dcfdff538\",\n        \"alias\": \"Direct Grant - Conditional OTP\",\n        \"description\": \"Flow to determine if the OTP is required for the authentication\",\n        \"providerId\": \"basic-flow\",\n        \"topLevel\": false,\n        \"builtIn\": true,\n        \"authenticationExecutions\": [\n          {\n            \"authenticator\": \"conditional-user-configured\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 10,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticator\": \"direct-grant-validate-otp\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 20,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          }\n        ]\n      },\n      {\n        \"id\": \"f603908d-6749-4210-9565-9634ae103dae\",\n        \"alias\": \"First broker login - Conditional OTP\",\n        \"description\": \"Flow to determine if the OTP is required for the authentication\",\n        \"providerId\": \"basic-flow\",\n        \"topLevel\": false,\n        \"builtIn\": true,\n        \"authenticationExecutions\": [\n          {\n            \"authenticator\": \"conditional-user-configured\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 10,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticator\": \"auth-otp-form\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 20,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          }\n        ]\n      },\n      {\n        \"id\": \"c0f51747-cb9b-4a41-a841-aaa7686cf732\",\n        \"alias\": \"Handle Existing Account\",\n        \"description\": \"Handle what to do if there is existing account with same email/username like authenticated identity provider\",\n        \"providerId\": \"basic-flow\",\n        \"topLevel\": false,\n        \"builtIn\": true,\n        \"authenticationExecutions\": [\n          {\n            \"authenticator\": \"idp-confirm-link\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 10,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticatorFlow\": true,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 20,\n            \"autheticatorFlow\": true,\n            \"flowAlias\": \"Account verification options\",\n            \"userSetupAllowed\": false\n          }\n        ]\n      },\n      {\n        \"id\": \"50664726-d047-447d-8e13-7ca9b4218059\",\n        \"alias\": \"Reset - Conditional OTP\",\n        \"description\": \"Flow to determine if the OTP should be reset or not. Set to REQUIRED to force.\",\n        \"providerId\": \"basic-flow\",\n        \"topLevel\": false,\n        \"builtIn\": true,\n        \"authenticationExecutions\": [\n          {\n            \"authenticator\": \"conditional-user-configured\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 10,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticator\": \"reset-otp\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 20,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          }\n        ]\n      },\n      {\n        \"id\": \"b67bff26-b03a-4f59-a0c6-2926986ba38b\",\n        \"alias\": \"User creation or linking\",\n        \"description\": \"Flow for the existing/non-existing user alternatives\",\n        \"providerId\": \"basic-flow\",\n        \"topLevel\": false,\n        \"builtIn\": true,\n        \"authenticationExecutions\": [\n          {\n            \"authenticatorConfig\": \"create unique user config\",\n            \"authenticator\": \"idp-create-user-if-unique\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"ALTERNATIVE\",\n            \"priority\": 10,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticatorFlow\": true,\n            \"requirement\": \"ALTERNATIVE\",\n            \"priority\": 20,\n            \"autheticatorFlow\": true,\n            \"flowAlias\": \"Handle Existing Account\",\n            \"userSetupAllowed\": false\n          }\n        ]\n      },\n      {\n        \"id\": \"57e387c9-f914-4239-a673-c77720e7eadc\",\n        \"alias\": \"Verify Existing Account by Re-authentication\",\n        \"description\": \"Reauthentication of existing account\",\n        \"providerId\": \"basic-flow\",\n        \"topLevel\": false,\n        \"builtIn\": true,\n        \"authenticationExecutions\": [\n          {\n            \"authenticator\": \"idp-username-password-form\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 10,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticatorFlow\": true,\n            \"requirement\": \"CONDITIONAL\",\n            \"priority\": 20,\n            \"autheticatorFlow\": true,\n            \"flowAlias\": \"First broker login - Conditional OTP\",\n            \"userSetupAllowed\": false\n          }\n        ]\n      },\n      {\n        \"id\": \"c117d9ba-da02-4a24-a74f-4e4a3c4053c9\",\n        \"alias\": \"browser\",\n        \"description\": \"browser based authentication\",\n        \"providerId\": \"basic-flow\",\n        \"topLevel\": true,\n        \"builtIn\": true,\n        \"authenticationExecutions\": [\n          {\n            \"authenticator\": \"auth-cookie\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"ALTERNATIVE\",\n            \"priority\": 10,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticator\": \"auth-spnego\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"DISABLED\",\n            \"priority\": 20,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticator\": \"identity-provider-redirector\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"ALTERNATIVE\",\n            \"priority\": 25,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticatorFlow\": true,\n            \"requirement\": \"ALTERNATIVE\",\n            \"priority\": 30,\n            \"autheticatorFlow\": true,\n            \"flowAlias\": \"forms\",\n            \"userSetupAllowed\": false\n          }\n        ]\n      },\n      {\n        \"id\": \"fca9d490-e9f9-431b-a1a6-c97ceac4b4d3\",\n        \"alias\": \"clients\",\n        \"description\": \"Base authentication for clients\",\n        \"providerId\": \"client-flow\",\n        \"topLevel\": true,\n        \"builtIn\": true,\n        \"authenticationExecutions\": [\n          {\n            \"authenticator\": \"client-secret\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"ALTERNATIVE\",\n            \"priority\": 10,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticator\": \"client-jwt\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"ALTERNATIVE\",\n            \"priority\": 20,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticator\": \"client-secret-jwt\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"ALTERNATIVE\",\n            \"priority\": 30,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticator\": \"client-x509\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"ALTERNATIVE\",\n            \"priority\": 40,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          }\n        ]\n      },\n      {\n        \"id\": \"78c65b11-6ea7-4be7-ae44-2cfde508b656\",\n        \"alias\": \"direct grant\",\n        \"description\": \"OpenID Connect Resource Owner Grant\",\n        \"providerId\": \"basic-flow\",\n        \"topLevel\": true,\n        \"builtIn\": true,\n        \"authenticationExecutions\": [\n          {\n            \"authenticator\": \"direct-grant-validate-username\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 10,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticator\": \"direct-grant-validate-password\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 20,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticatorFlow\": true,\n            \"requirement\": \"CONDITIONAL\",\n            \"priority\": 30,\n            \"autheticatorFlow\": true,\n            \"flowAlias\": \"Direct Grant - Conditional OTP\",\n            \"userSetupAllowed\": false\n          }\n        ]\n      },\n      {\n        \"id\": \"f8e712c0-6aa3-4d2d-9c4f-3422b8a6cd2d\",\n        \"alias\": \"docker auth\",\n        \"description\": \"Used by Docker clients to authenticate against the IDP\",\n        \"providerId\": \"basic-flow\",\n        \"topLevel\": true,\n        \"builtIn\": true,\n        \"authenticationExecutions\": [\n          {\n            \"authenticator\": \"docker-http-basic-authenticator\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 10,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          }\n        ]\n      },\n      {\n        \"id\": \"d022e68e-8374-4598-bb34-3ab4f04ba47d\",\n        \"alias\": \"first broker login\",\n        \"description\": \"Actions taken after first broker login with identity provider account, which is not yet linked to any Keycloak account\",\n        \"providerId\": \"basic-flow\",\n        \"topLevel\": true,\n        \"builtIn\": true,\n        \"authenticationExecutions\": [\n          {\n            \"authenticatorConfig\": \"review profile config\",\n            \"authenticator\": \"idp-review-profile\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 10,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticatorFlow\": true,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 20,\n            \"autheticatorFlow\": true,\n            \"flowAlias\": \"User creation or linking\",\n            \"userSetupAllowed\": false\n          }\n        ]\n      },\n      {\n        \"id\": \"f508aa74-9424-4745-add1-fd63e187efd6\",\n        \"alias\": \"forms\",\n        \"description\": \"Username, password, otp and other auth forms.\",\n        \"providerId\": \"basic-flow\",\n        \"topLevel\": false,\n        \"builtIn\": true,\n        \"authenticationExecutions\": [\n          {\n            \"authenticator\": \"auth-username-password-form\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 10,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticatorFlow\": true,\n            \"requirement\": \"CONDITIONAL\",\n            \"priority\": 20,\n            \"autheticatorFlow\": true,\n            \"flowAlias\": \"Browser - Conditional OTP\",\n            \"userSetupAllowed\": false\n          }\n        ]\n      },\n      {\n        \"id\": \"3e81a924-1fcc-4d8d-9b34-c4706ea072a8\",\n        \"alias\": \"http challenge\",\n        \"description\": \"An authentication flow based on challenge-response HTTP Authentication Schemes\",\n        \"providerId\": \"basic-flow\",\n        \"topLevel\": true,\n        \"builtIn\": true,\n        \"authenticationExecutions\": [\n          {\n            \"authenticator\": \"no-cookie-redirect\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 10,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticatorFlow\": true,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 20,\n            \"autheticatorFlow\": true,\n            \"flowAlias\": \"Authentication Options\",\n            \"userSetupAllowed\": false\n          }\n        ]\n      },\n      {\n        \"id\": \"4da9417a-fbaa-4fb8-8624-7da42f02503f\",\n        \"alias\": \"registration\",\n        \"description\": \"registration flow\",\n        \"providerId\": \"basic-flow\",\n        \"topLevel\": true,\n        \"builtIn\": true,\n        \"authenticationExecutions\": [\n          {\n            \"authenticator\": \"registration-page-form\",\n            \"authenticatorFlow\": true,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 10,\n            \"autheticatorFlow\": true,\n            \"flowAlias\": \"registration form\",\n            \"userSetupAllowed\": false\n          }\n        ]\n      },\n      {\n        \"id\": \"c5a2fc8f-b7fb-4dc2-8cb7-62e875cde166\",\n        \"alias\": \"registration form\",\n        \"description\": \"registration form\",\n        \"providerId\": \"form-flow\",\n        \"topLevel\": false,\n        \"builtIn\": true,\n        \"authenticationExecutions\": [\n          {\n            \"authenticator\": \"registration-user-creation\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 20,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticator\": \"registration-profile-action\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 40,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticator\": \"registration-password-action\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 50,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticator\": \"registration-recaptcha-action\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"DISABLED\",\n            \"priority\": 60,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          }\n        ]\n      },\n      {\n        \"id\": \"68d43a35-8f5b-4062-9d80-c14e02d99424\",\n        \"alias\": \"reset credentials\",\n        \"description\": \"Reset credentials for a user if they forgot their password or something\",\n        \"providerId\": \"basic-flow\",\n        \"topLevel\": true,\n        \"builtIn\": true,\n        \"authenticationExecutions\": [\n          {\n            \"authenticator\": \"reset-credentials-choose-user\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 10,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticator\": \"reset-credential-email\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 20,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticator\": \"reset-password\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 30,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          },\n          {\n            \"authenticatorFlow\": true,\n            \"requirement\": \"CONDITIONAL\",\n            \"priority\": 40,\n            \"autheticatorFlow\": true,\n            \"flowAlias\": \"Reset - Conditional OTP\",\n            \"userSetupAllowed\": false\n          }\n        ]\n      },\n      {\n        \"id\": \"d666fb45-994f-4cf2-a8d7-cdd6f0fd355e\",\n        \"alias\": \"saml ecp\",\n        \"description\": \"SAML ECP Profile Authentication Flow\",\n        \"providerId\": \"basic-flow\",\n        \"topLevel\": true,\n        \"builtIn\": true,\n        \"authenticationExecutions\": [\n          {\n            \"authenticator\": \"http-basic-authenticator\",\n            \"authenticatorFlow\": false,\n            \"requirement\": \"REQUIRED\",\n            \"priority\": 10,\n            \"autheticatorFlow\": false,\n            \"userSetupAllowed\": false\n          }\n        ]\n      }\n    ],\n    \"authenticatorConfig\": [\n      {\n        \"id\": \"321b44e3-25f6-4104-bf6e-ee6811c679cb\",\n        \"alias\": \"create unique user config\",\n        \"config\": {\n          \"require.password.update.after.registration\": \"false\"\n        }\n      },\n      {\n        \"id\": \"f49b2b90-b085-4232-bc24-cc93b75f2f05\",\n        \"alias\": \"review profile config\",\n        \"config\": {\n          \"update.profile.on.first.login\": \"missing\"\n        }\n      }\n    ],\n    \"requiredActions\": [\n      {\n        \"alias\": \"CONFIGURE_TOTP\",\n        \"name\": \"Configure OTP\",\n        \"providerId\": \"CONFIGURE_TOTP\",\n        \"enabled\": true,\n        \"defaultAction\": false,\n        \"priority\": 10,\n        \"config\": {}\n      },\n      {\n        \"alias\": \"terms_and_conditions\",\n        \"name\": \"Terms and Conditions\",\n        \"providerId\": \"terms_and_conditions\",\n        \"enabled\": false,\n        \"defaultAction\": false,\n        \"priority\": 20,\n        \"config\": {}\n      },\n      {\n        \"alias\": \"UPDATE_PASSWORD\",\n        \"name\": \"Update Password\",\n        \"providerId\": \"UPDATE_PASSWORD\",\n        \"enabled\": true,\n        \"defaultAction\": false,\n        \"priority\": 30,\n        \"config\": {}\n      },\n      {\n        \"alias\": \"UPDATE_PROFILE\",\n        \"name\": \"Update Profile\",\n        \"providerId\": \"UPDATE_PROFILE\",\n        \"enabled\": true,\n        \"defaultAction\": false,\n        \"priority\": 40,\n        \"config\": {}\n      },\n      {\n        \"alias\": \"VERIFY_EMAIL\",\n        \"name\": \"Verify Email\",\n        \"providerId\": \"VERIFY_EMAIL\",\n        \"enabled\": true,\n        \"defaultAction\": false,\n        \"priority\": 50,\n        \"config\": {}\n      },\n      {\n        \"alias\": \"delete_account\",\n        \"name\": \"Delete Account\",\n        \"providerId\": \"delete_account\",\n        \"enabled\": false,\n        \"defaultAction\": false,\n        \"priority\": 60,\n        \"config\": {}\n      },\n      {\n        \"alias\": \"CONFIGURE_RECOVERY_AUTHN_CODES\",\n        \"name\": \"Recovery Authentication Codes\",\n        \"providerId\": \"CONFIGURE_RECOVERY_AUTHN_CODES\",\n        \"enabled\": true,\n        \"defaultAction\": false,\n        \"priority\": 70,\n        \"config\": {}\n      },\n      {\n        \"alias\": \"update_user_locale\",\n        \"name\": \"Update User Locale\",\n        \"providerId\": \"update_user_locale\",\n        \"enabled\": true,\n        \"defaultAction\": false,\n        \"priority\": 1000,\n        \"config\": {}\n      }\n    ],\n    \"browserFlow\": \"browser\",\n    \"registrationFlow\": \"registration\",\n    \"directGrantFlow\": \"direct grant\",\n    \"resetCredentialsFlow\": \"reset credentials\",\n    \"clientAuthenticationFlow\": \"clients\",\n    \"dockerAuthenticationFlow\": \"docker auth\",\n    \"attributes\": {\n      \"cibaBackchannelTokenDeliveryMode\": \"poll\",\n      \"cibaExpiresIn\": \"120\",\n      \"cibaAuthRequestedUserHint\": \"login_hint\",\n      \"oauth2DeviceCodeLifespan\": \"600\",\n      \"oauth2DevicePollingInterval\": \"5\",\n      \"parRequestUriLifespan\": \"60\",\n      \"cibaInterval\": \"5\"\n    },\n    \"keycloakVersion\": \"18.0.2\",\n    \"userManagedAccessAllowed\": false,\n    \"clientProfiles\": {\n      \"profiles\": []\n    },\n    \"clientPolicies\": {\n      \"policies\": []\n    },\n    \"users\": [\n      {\n        \"username\": \"user\",\n        \"enabled\": true,\n        \"email\": \"user@dev.com\",\n        \"firstName\": \"User\",\n        \"lastName\": \"Dev\",\n        \"credentials\": [\n          {\n            \"type\": \"password\",\n            \"value\": \"user\"\n          }\n        ],\n        \"realmRoles\": [\n          \"app-user\"\n        ]\n      },\n      {\n        \"username\": \"admin\",\n        \"enabled\": true,\n        \"email\": \"admin@dev.com\",\n        \"firstName\": \"Admin\",\n        \"lastName\": \"Dev\",\n        \"credentials\": [\n          {\n            \"type\": \"password\",\n            \"value\": \"admin\"\n          }\n        ],\n        \"realmRoles\": [\n          \"app-admin\"\n        ]\n      }\n    ]\n  }\n  "

######################################################################
# Parameters
######################################################################
parameters:
- name: APP_NAME
  displayName: Application name
  description: Used to group components together in the OpenShift console.
  required: true
  value: "auth-e"
- name: APP_DOMAIN
  description: The external hostname to access the application.
  required: true
- name: APP_SUBDOMAIN
  description: The external subdomain to access the application.
  required: true
  value: "auth-e"
- name: KEYCLOAK_SUBDOMAIN
  description: The external subdomain to access the application.
  required: true
  value: "auth-e-keycloak"
- name: POSTGRESQL_USERNAME
  displayName: PostgreSQL connection username
  description: Username for the PostgreSQL connection user.
  required: true
  value: "dbuser"
- name: POSTGRESQL_PASSWORD
  displayName: PostgreSQL connection password
  description: Password for the PostgreSQL connection user.
  required: true
  generate: "expression"
  from: "[a-zA-Z0-9]{16}"
- name: POSTGRESQL_ADMIN_USERNAME
  fdisplayName: PostgreSQL administrator username
  description: Username for the PostgreSQL administrative account.
  required: true
  value: "postgres"  
- name: POSTGRESQL_ADMIN_PASSWORD
  fdisplayName: PostgreSQL administrator password
  description: Password for the PostgreSQL administrative account.
  required: true
  generate: "expression"
  from: "[a-zA-Z0-9]{16}"
- name: POSTGRESQL_DATABASE_NAME
  displayName: PostgreSQL database name
  description: Name of the PostgreSQL database.
  required: true
  value: "auth_e"
- name: POSTGRESQL_PORT
  displayName: PostgreSQL database port
  description: Port on which PostgreSQL listens.
  required: true
  value: "5432"
- name: NGINX_PORT
  displayName: NGINX port
  description: Port on which nginx listens.
  required: true
  value: "8080"
- name: POSTGRESQL_NAME
  displayName: PostgreSQL name
  description: The name assigned to all PostgreSQL objects defined in this template.
  required: true
  value: "postgres-database"
- name: STORAGE_CLASS_NAME
  displayNgp2iption: The storage class of the volume.
  required: true
  value: gp2
- name: POSTGRESQL_VOLUME_SIZE
  displayName: PostgreSql volume size
  description: The size of the PostgreSql persistent volume, e.g. 512Mi, 1Gi, 2Gi.
  required: true
  value: 1Gi
- name: NESTJS_NAME
  displayName: NestJS name
  description: The name assigned to all NestJS objects defined in this template.
  required: true
  value: "nestjs-backend"
- name: ANGULAR_NAME
  displayName: Angular name
  description: The name assigned to all Angular objects defined in this template.
  required: true
  value: "angular-frontend"
- name: GITHUB_REPOSITORY_URI
  displayName: GitHub repository URI
  description: URI of the GitHub repository.
  required: true
  value: "https://github.com/CQEN-QDCE/exp-port-e.git"
- name: KEYCLOAK_NAME
  displayName: Keycloak name
  description: The name assigned to all Keycloak objects defined in this template.
  required: true
  value: "keycloak"
- name: KEYCLOAK_ADMIN_USER
  displayName: Keycloak administrator username
  description: Username for the Keycloak administrative account.
  required: true
  value: "admin"
- name: KEYCLOAK_ADMIN_PASSWORD
  displayName: Keycloak administrator password
  description: Password for the Keycloak administrative account.
  required: true
- name: KEYCLOAK_REALM
  displayName: Keycloak realm
  description: Keycloak realm.
  required: true
  value: "Auth-E"
- name: KEYCLOAK_CLIENT_ID
  displayName: Keycloak client id
  description: Keycloak client identifier.
  required: true
  value: "angular-app"
- name: KEYCLOAK_DATABASE_NAME
  displayName: Keycloak database name
  description: Name of the Keycloak database.
  required: true
  value: "keycloak"
